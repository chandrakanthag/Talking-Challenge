<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="apple-touch-icon" sizes="180x180" href="/Sent/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/Sent/favicon-16x16.png">
    <link rel="manifest" href="/Sent/site.webmanifest">
    <title>2-Minute Talking Challenge</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for the card click effect */
        .card {
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            user-select: none;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.06);
            /* Ensure the text/icon inside is centered */
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative; /* IMPORTANT: Allows absolute positioning of the reset button */
        }
        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.2), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
        }
        /* Style for the revealed topic display */
        #topic-display-modal {
            background-color: rgba(17, 24, 39, 0.95); /* Darker overlay */
        }
        /* New styles for a used/clicked card (now clickable!) */
        .card-used {
            cursor: pointer; /* Allows clicking after being marked */
            opacity: 0.9; /* Keep it visible but muted */
            transform: none !important; 
            box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.1); /* Inset shadow to show it's spent */
            background-color: #f3f4f6; /* bg-gray-100 */
        }
        /* Restore hover effect for marked cards so they still feel active */
        .card-used:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.2), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
        }
        .name{
            cursor: pointer;  
            color: rgb(47, 170, 2);
            font-family: math;
            transition: 0.3s;
        }
        .name:hover{   
            text-shadow: 1px 1px 5px rgb(215, 205, 0);
            color: rgb(255, 0, 0);
            font-family: math;
        }
        .name:active{
            color: rgb(44, 86, 255);
            font-family: math;
            transition: 0.2s;
        }
        .reveal{
             color: rgb(242, 0, 0);
        }
        .gif{
            display: flex;
            flex-direction: row;
            padding-left: 12%;
            justify-content: center;
            align-items: center;
        }
        .H{
        padding-top: 0.1rem !important;
        padding-bottom: 2.5rem;
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'primary': '#4f46e5', // Indigo
                        'secondary': '#f97316', // Orange
                        'accent': '#10b981', // Emerald (Green for the tick)
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 font-sans p-4">

    <!-- Header -->
    <header class="text-center py-6 md:py-10 H">
        <h1 class="text-3xl md:text-5xl font-extrabold text-primary gif">
            2-Minute Talking Challenge (BCE317)
           <script src="https://unpkg.com/@lottiefiles/dotlottie-wc@0.7.1/dist/dotlottie-wc.js" type="module"></script>
<dotlottie-wc src="https://lottie.host/d27f6fef-4ed9-4e93-b995-5e3953f8ca35/8tvifzcTdA.lottie" speed="0.5" style="width: 170px; height: auto" mode="forward" loop autoplay></dotlottie-wc>
        </h1>
        <p class="text-gray-600 mt-2 text-lg"><b>Batch Trainer: Anjana Ma'am | Coordinator: Chandrakanth A G | <a href="https://chandrakanthag.github.io/CHANDRAKANTH-A-G/" class="name"> View Profile</a></b></p> 
        <p class="reveal mt-2 text-lg ">Click a card to reveal your topic!</p>
    </header>

    <!-- Cards Grid Container -->
    <main id="card-grid" class="max-w-7xl mx-auto grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-7 gap-4 md:gap-6 pb-12">
        <!-- Cards will be populated here by JavaScript -->
    </main>

    <!-- The External Reset Button was removed per user request -->

    <!-- Modal for Topic Display -->
    <div id="topic-display-modal" class="fixed inset-0 z-50 flex items-center justify-center hidden" onclick="hideModal()">
        <div id="modal-content" class="p-8 bg-white rounded-xl shadow-2xl max-w-4xl mx-4 text-center transform transition-all duration-300 scale-90" onclick="event.stopPropagation()">
            <h2 class="text-lg font-semibold text-gray-400 mb-4">Topic</h2>
            <p id="revealed-topic" class="text-4xl md:text-6xl font-black text-secondary leading-tight">
                <!-- Topic text will be inserted here -->
            </p>
            
            <button onclick="hideModal()" class="mt-8 px-6 py-3 bg-primary text-white font-bold rounded-lg hover:bg-indigo-600 transition duration-150 shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
                    Close
            </button>
        </div>
    </div>

    <script>
        const topics = [
            "Talk about an over talented friend in your batch and describe his talent.",
            "What would happen if Internet disappeared?",
            "Describe a bad or boring day in your life.",
            "How YouTube became a teacher for everyone?",
            "Should AI replace teachers? Share your opinion.",
            "Review yourself.(Like Mobile Review)",
            "Does fame bring happiness?",
            "What would you do if you won 1 crore lottery?",
            "What if we had an “undo” option in real life?",
            "If your phone could talk, what would it say about how you use it?",
            "Imagine tomorrow is the end of the world.",
            "Why aliens haven’t visited Earth yet?",
            "Imagine you became the president for a day. What would you do?",
            "If you had a superpower, what would it be?",
            "Talk about a food you don’t like.",
            "If you could meet any celebrity, who would it be? what would you ask them?",
            "Favorite place to visit, and why?",
            "What I would change in the education system",
            "Say 5 things bad about yourself.",
            "Audience, Choose a Topic!",
            "How can we save money?"
        ];

        const cardGrid = document.getElementById('card-grid');
        const modal = document.getElementById('topic-display-modal');
        const revealedTopic = document.getElementById('revealed-topic');
        const modalContent = document.getElementById('modal-content');
        
        /**
         * Dynamically creates the 21 cards and adds them to the grid.
         */
        function initializeCards() {
            topics.forEach((topic, index) => {
                const cardNumber = index + 1;
                const card = document.createElement('div');
                card.id = `card-${cardNumber}`;
                card.className = 'card bg-white p-6 rounded-xl h-24 sm:h-32 text-center text-6xl font-extrabold text-primary border-b-4 border-primary shadow-md hover:border-accent';
                card.innerText = cardNumber;
                card.setAttribute('data-topic', topic);
                card.setAttribute('data-number', cardNumber); // Store original number
                
                // Pass the card element itself to the showTopic function
                card.onclick = () => showTopic(topic, card);
                
                cardGrid.appendChild(card);
            });
        }

        /**
         * Displays the hidden topic in a large, central modal and marks the card as used on the first click.
         * @param {string} topicText - The text of the hidden topic.
         * @param {HTMLElement} cardElement - The card element that was clicked.
         */
        function showTopic(topicText, cardElement) {
            
            // Check if the card has NOT been marked yet
            if (!cardElement.classList.contains('card-used')) {
                // This is the first time the card is being clicked
                
                // 1. Mark the card as used visually
                cardElement.classList.remove('bg-white', 'border-primary', 'shadow-md', 'hover:border-accent');
                cardElement.classList.add('card-used', 'text-gray-400', 'border-gray-300');
                
                // 2. Add the green checkmark AND the reset icon (using a circular arrow ↻)
                const originalNumber = cardElement.getAttribute('data-number');
                const cardId = cardElement.id;

                // Use a button inside the card for resetting, ensuring it stops propagation
                cardElement.innerHTML = `
                    <span class="text-accent text-5xl md:text-6xl font-black">✓</span>
                    <button class="absolute bottom-1 right-1 text-xs text-red-500 hover:text-red-700 font-bold w-6 h-6 flex items-center justify-center p-1 rounded-full bg-white bg-opacity-70 transition duration-150 border border-red-300"
                        onclick="event.stopPropagation(); resetSingleCard(document.getElementById('${cardId}'))"
                        title="Unmark Topic ${originalNumber}">
                        ↻
                    </button>
                `; 
            }

            // 3. Display modal (ALWAYS open the modal)
            revealedTopic.textContent = topicText;
            modal.classList.remove('hidden');
            
            // Trigger animation
            setTimeout(() => {
                modalContent.classList.remove('scale-90');
                modalContent.classList.add('scale-100');
            }, 10);
        }

        /**
         * Reverts a single card back to its original numbered state.
         * @param {HTMLElement} cardElement - The card element to reset.
         */
        function resetSingleCard(cardElement) {
            const originalNumber = cardElement.getAttribute('data-number');

            // 1. Revert the card classes (remove used classes, restore original classes)
            cardElement.classList.remove('card-used', 'text-gray-400', 'border-gray-300');
            cardElement.classList.add('bg-white', 'border-primary', 'shadow-md', 'hover:border-accent');

            // 2. Restore the original number
            cardElement.innerText = originalNumber;
            
            // 3. Close the modal if it is open
            if (!modal.classList.contains('hidden')) {
                hideModal();
            }
        }


        /**
         * Hides the topic display modal.
         */
        function hideModal() {
            modalContent.classList.remove('scale-100');
            modalContent.classList.add('scale-90');
            // Hide after transition
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }

        // Initialize cards when the script loads
        initializeCards();

    </script>
    
</body>
</html>
